% Nome do capítulo
\chapter{Metodologia}
% Label para referenciar
\label{metodologia}

% Diminuir espaçamento entre título e texto
\vspace{-1.9cm}

% Texto do capítulo
  Baseando-se em metodologias de desenvolvimento de software ágil Scrum, foram determinadas 
  as seguintes etapas para elaboração deste trabalho:


\section{Estudo do ambiente Node.Js}
  
  \begin{compactitem}
    \item[a)] Estudo das principais características do Node.Js.
    
    Conhecer o modelo única \textit{thread}, diferenças entre o modelo assíncrono e síncrono, dentre outros.
    
    \item[b)] Estudo do ciclo de eventos do inglês , \textit{Event Loop} e como ele é utilizado no NodeJs.
    
    \item[c)] Estudo do \textit{framework} Express
    
    Conhecer o \textit{framework} feito em Node.Js que será a base para criar a 
    aplicação devido a grandes módulos já inclusos e se codificar de maneira \ac{REST} \footnote[4]{
    Estilo de arquitetura de software para sistemas distribuídos como a própria web. Graças a sua adoção por
    grandes empresas do meio como o Google, Facebook e Twitter, REST emergiu ao longo dos últimos anos como
    o modelo predominante de design para serviços web, substituindo outros modelos como SOAP e WSDL graças
    à sua simplicidade}.

  \end{compactitem}
  
\section{Levantamento de requisitos}

  \begin{compactitem}
    \item[a)] Estudar a arquitetura Web dos protótipos de acordo com o problema proposto, buscando um entendimento 
    básico de como é a implementação de uma aplicação \ac{REST} e seus protocolos relacionados ao HTTP.
    
    \item[b)] Especificar requisitos da aplicação. Criar um modelo de API 
    \footnote[5]{Conjunto de rotinas e padrões estabelecidos por um software para a utilização das suas funcionalidades por
    aplicativos que não pretendem envolver-se em detalhes da implementação do software, mas apenas usar seus serviços.} 
    da aplicação para fácil entendimento e independente da plataforma de desenvolvimento.
    
    \item[c)] Especificar serviços da aplicação; detalhar e documentar o serviço de hospedagem na Internet, além de outros componentes 
    necessários para o funcionamento do ecossistema.
      
  \end{compactitem}

\section{Criar dois aplicativos em diferentes paradigmas e hospedá-los}
  
  \begin{compactitem}
    \item[a)] Desenvolvimento da aplicação no paradigma orientado a eventos. Desenvolver um aplicativo escrito no
    ambiente Node.Js com o \textit{framework} Express.Js
    
    \item[b)] Desenvolvimento do mesmo aplicativo em outro ambiente. Busca-se com esta etapa ter 
    um aplicativo escrito na linguagem Python com o \textit{framework} Django para comparamos o desempenho, 
    do ambiente aqui estudado com o modelo \"tradicional\".
    
    \item[c)] Hospedar os aplicativos em uma \ac{VPS}.  Hospedar os aplicativos em um 
    servidor privado virtual contendo seu próprio sistema operacional e processos
    específicos para cada aplicação. Para esta necessidade será utilizado os serviços da empresa Digital Ocean \footnote[6]{
    Serviço de hospedagem nas nuvens. Disponível em https://www.digitalocean.com/}
    
  \end{compactitem}

\section{Especificar testes e comparar resultados}

  \begin{compactitem}
    \item[a)] Utilizar testes de carga na \ac{API}. Realizar um plano de testes de 
    estresse e carga nas \ac{API} desenvolvidas através
    da ferramenta Loader.io \footnote[7]{Teste de carga baseado em nuvem. Disponível em http://loader.io},
    melhor descrita na Sub-Seção \ref{ferramentas-utilizadas-para-testes}.
    
    \item[b)] Descrever o software de testes. Descrever passo a passo como gerar um teste de carga 
    na aplicação dos serviços descritos acima.
    
    \item[c)] Executar os testes: clientes por testes; clientes por segundo; manter carga de clientes.
    Estes testes possuem a finalidade de medir o tempo de resposta, volume de transações e conexões por segundo. E por fim, 
    medir a carga com um volume de usuários até a duração de 60 segundos, respectivamente. 
    Com os resultados obtidos poderemos avaliar em números o tempo de resposta de cada teste,
    erros de limite de tempo excedido, do inglês \textit{timeout}, erros de rede e conexões suportadas. 
    
    \item[d)] Avaliar os resultados obtidos após a análise, coleta e definições das métricas. Realizar uma análise sobre o 
    desempenho positivo ou negativo de cada modelo desenvolvido.
    
%    Definir aqui as métricas passadas pelo serviço web loader.io.
    
  \end{compactitem}

% testes de carga: Testes realizados para verificar se um sistema suporta uma determinadas
% carga. Volume do trafego para um determinado sistema. Geralmetne medida em transacoes
% requisicoes dos ususarios

% Transação: operação completa no sistema. Por exemplo, buscar um produto.
% Sistema: todo o conjunto de servidores, rede entre servidores, softwares de terceiros e a aplicação.
% Utilização de um recurso: percentual, em uso, do total de recursos disponíveis.
% Tempo de resposta: Tempo desde o momento em que o usuário envia a requisição até o momento em que recebe a resposta completa.
% Na nomeclatura do Jmeter , é o elapsed time

% Profiling: instrumentação da aplicação para estudo dos métodos e seus tempos de execução.
% Vazão: taxa com que um sistema responde às requisições recebidas.
% Gargalo: tudo o que impede que o sistema apresente maior vazão.
% Se a vazão for inferior à taxa com que as requisições são enviadas ao sistema.

% Monitoramento do sistema
% Métricas Sistema Operacional (Todas as máquinas)
% Utilização CPU, memória, Swap, disco, rede, etc.
% /proc, perfmon, vmstat, etc.

% Métricas Banco de Dados
% Tempo ocupado, tempo execução médio por query, locks, leituras físicas e lógicas, etc.
% Relatório AWR, etc.

% Profiling(Servidor de aplicação)
% Tempo de execução por método, tempo de execução em CPU por método, memória consumida por classe, etc.
% VisualVM, RedGate Ants, etc.

% NewRelic
% Integra profiling e monitoramento de métricas do sistema operacional.

% testes de estresse: Testes realizados para determinar
% a capacidade maxima do sistema.

\subsection{Ferramentas Utilizadas}
\label{ferramentas-utilizadas-para-testes}
  
  Para realizar os testes de carga e estresse será utilizado o serviço em computação nas nuvens
  da empresa SendGrid\footnote[8]{Serviços para desenvolvedores. Disponível em http://labs.sendgrid.com/} denominado Loader.io.
  De acordo com o sítio, o serviço é definido como um serviço de teste de carga livre,
  que permite realizar testes de estresse em aplicativos web ou API\'{}s, com milhares de conexões simultâneas.
  
  Este serviço foi escolhido pois oferece testes gratuitos até o máximo 10000 clientes por teste para duas 
  URL\'{}s especificas. Sua \textit{interface} para criar os testes é simples, fácil de utilizar e
  configurar os testes. Na execução dos testes o gráfico e os dados são atualizados em tempo real até a duração do teste.
  
  Existe uma documentação no sítio da \citeonline{supportloader}, que explica a utilização da ferramenta para usuários
  iniciantes. Esta seção possui as sub-seções de como criar o teste, tipos de teste,
  verificando um aplicativo, variáveis e resultados de testes. Documentos estes essenciais para 
  entender o básico para utilização deste serviço. 
  